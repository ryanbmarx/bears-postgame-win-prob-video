{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/src/app.js","js/src/lookup-team-info.js","js/src/scene1.js","js/src/scene2.js"],"names":["runVideo","gameId","console","log","d3","json","err","data","window","scores","home","score1","score2","score3","score4","score5","undefined","score6","away","homeTeam","metadata","awayTeam","homeLogo","select","append","attr","style","lookupTeamInfo","awayLogo","linescoreRect","node","getBoundingClientRect","videoRect","height","width","html","selectAll","scene1","require","onload","gameID","team","field","teams","abbrv","sdi","team_color","team_text_color","i","length","module","exports","scene1transition","classed","transition","duration","awayLogoBox","getBBox","delay","on","homeLogoBox","scene2","lineScoreNumberTransition","idx","score","line","transitionTime","format","targetScore","active","this","tween","that","interp","interpolateNumber","t","text","scene2transition","forEach","v","setTimeout","_"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// TODO OVERTIME!!!!\n\nvar d3 = require('d3');\nvar lookupTeamInfo = require ('./lookup-team-info');\nvar scene1 = require ('./scene1');\n// var scene2 = require ('./scene2');\n\nfunction runVideo(gameId){\n\t// This is the master controller function.\n\t// Start by putting data, metadata into window variables.\n\tconsole.log('running video');\n\n\td3.json(`winprobability__${gameId}.json`, (err, data) => {\n\t\t\n\t\twindow.scores = {\n\t\t\thome:{\n\t\t\t\tscore1:0,\n\t\t\t\tscore2:10,\n\t\t\t\tscore3: 3,\n\t\t\t\tscore4: 10,\n\t\t\t\tscore5: undefined,\n\t\t\t\tscore6:23\n\t\t\t},\n\t\t\taway:{\n\t\t\t\tscore1:7,\n\t\t\t\tscore2:7,\n\t\t\t\tscore3: 0,\n\t\t\t\tscore4: 0,\n\t\t\t\tscore5: undefined,\n\t\t\t\tscore6:14\n\t\t\t}\n\t\t}\n\n\n\n\t\tconsole.log(data);\n\t\twindow.data = data;\n\t\twindow.homeTeam = data.metadata.home;\n\t\twindow.awayTeam = data.metadata.away;\n\n\t\t// ###########\n\t\t// Start with some housekeeping\n\t\t// ###########\n\n\t\t// Load logos into linescore\n\t\twindow.homeLogo = d3.select('.linescore__home .linescore__logo')\n\t\t\t.append('svg')\n\t\t\t.attr('height', '95%')\n\t\t\t.attr('width', '95%')\n\t\t\t.style('opacity',0);\n\t\t\n\t\twindow.homeLogo.append('use')\n\t\t\t.attr(\"xlink:href\", `#${lookupTeamInfo(window.homeTeam, 'abbrv')}`);\n\n\t\twindow.awayLogo = d3.select('.linescore__away .linescore__logo')\n\t\t\t.append('svg')\n\t\t\t.attr('height', '95%')\n\t\t\t.attr('width', '95%')\n\t\t\t.style('opacity',0);\n\t\t\n\t\twindow.awayLogo.append('use')\n\t\t\t.attr(\"xlink:href\", `#${lookupTeamInfo(window.awayTeam, 'abbrv')}`);\n\n\t\tlet linescoreRect = d3.select('.linescore').node().getBoundingClientRect();\n\t\tlet videoRect = d3.select('#video').node().getBoundingClientRect();\n\n\t\td3.select('.linescore')\n\t\t\t.style('position', 'absolute')\n\t\t\t.style('top', `${(videoRect.height - linescoreRect.height) / 2}px`)\n\t\t\t.style('left', `${(videoRect.width - linescoreRect.width) / 2}px`)\n\t\t\t.style('transform','translate(0, 1000px)')\n\t\t\t.style('opacity',0);\n\n\t\t// Load team names into linescore\n\t\td3.select('.linescore__away .linescore__team')\n\t\t\t.html(`${lookupTeamInfo(window.awayTeam, 'team')}`);\n\n\t\td3.select('.linescore__home .linescore__team')\n\t\t\t.html(`${lookupTeamInfo(window.homeTeam, 'team')}`);\n\n\t\t// Show the OT in the linescore if needed\n\t\tif(window.scores.home.score5 != undefined ){\n\t\t\td3.selectAll('.linescore__overtime').style('display', 'table-cell');\n\t\t}\n\n\t\t// Load up logos for intro\n\t\td3.select('.logo--home')\n\t\t\t.append('svg')\n\t\t\t.attr('height', '95%')\n\t\t\t.attr('width', '95%')\n\t\t.append('use')\n\t\t\t.attr(\"xlink:href\", `#${lookupTeamInfo(window.homeTeam, 'abbrv')}`);\n\n\t\td3.select('.logo--away')\n\t\t\t.append('svg')\n\t\t\t.attr('height', '95%')\n\t\t\t.attr('width', '95%')\n\t\t.append('use')\n\t\t\t.attr(\"xlink:href\", `#${lookupTeamInfo(window.awayTeam, 'abbrv')}`);\n\n\n\n\n\t\t// ###########\n\t\t// And now, on with the show. Call the first scene (scene1/intro);\n\t\t// ###########\n\n\n\t\tscene1();\n\n\t})\n\n}\n\nwindow.onload = function(){\n\trunVideo(window.gameID);\n}","function lookupTeamInfo(team, field) {\n  let teams = [\n    { \"team\": \"Cardinals\", \"abbrv\": \"ARZ\", \"sdi\": \"Arizona\", team_color: \"#B10339\", team_text_color: \"black\", },\n    { \"team\": \"Falcons\", \"abbrv\": \"ATL\", \"sdi\": \"Atlanta\", team_color: \"#231F20\", team_text_color: \"black\" },\n    { \"team\": \"Ravens\", \"abbrv\": \"BAL\", \"sdi\": \"Baltimore\", team_color: \"#2B025B\", team_text_color: \"black\" },\n    { \"team\": \"Bills\", \"abbrv\": \"BUF\", \"sdi\": \"Buffalo\", team_color: \"#C60C30\", team_text_color: \"black\" },\n    { \"team\": \"Panthers\", \"abbrv\": \"CAR\", \"sdi\": \"Carolina\", team_color: \"#0088CE\", team_text_color: \"black\" },\n    { \"team\": \"Bears\", \"abbrv\": \"CHI\", \"sdi\": \"Chicago\",team_color: \"#12182d\", team_text_color: \"white\" },\n    { \"team\": \"Bengals\", \"abbrv\": \"CIN\", \"sdi\": \"Cincinnati\", team_color: \"#FB4F14\", team_text_color: \"black\" },\n    { \"team\": \"Browns\", \"abbrv\": \"CLE\", \"sdi\": \"Cleveland\", team_color: \"#ed7e11\", team_text_color: \"black\" },\n    { \"team\": \"Cowboys\", \"abbrv\": \"DAL\", \"sdi\": \"Dallas\", team_color: \"#D0D2D4\", team_text_color: \"black\" },\n    { \"team\": \"Broncos\", \"abbrv\": \"DEN\", \"sdi\": \"Denver\", team_color: \"#FB4F14\", team_text_color: \"black\" },\n    { \"team\": \"Lions\", \"abbrv\": \"DET\", \"sdi\": \"Detroit\",  team_color: \"#006EA1\", team_text_color: \"black\" },\n    { \"team\": \"Packers\", \"abbrv\": \"GB\", \"sdi\": \"Green Bay\", team_color: \"#FFCC00\", team_text_color: \"white\" },\n    { \"team\": \"Texans\", \"abbrv\": \"HOU\", \"sdi\": \"Houston\", team_color: \"#B31B34\", team_text_color: \"white\" },\n    { \"team\": \"Colts\", \"abbrv\": \"IND\", \"sdi\": \"Indianapolis\",team_color: \"#00417E\", team_text_color: \"black\" },\n    { \"team\": \"Jaguars\", \"abbrv\": \"JAX\", \"sdi\": \"Jacksonville\", team_color: \"#00839C\", team_text_color: \"black\" },\n    { \"team\": \"Chiefs\", \"abbrv\": \"KC\", \"sdi\": \"Kansas City\", team_color: \"#C60024\", team_text_color: \"black\" },\n    { \"team\": \"Dolphins\", \"abbrv\": \"MIA\", \"sdi\": \"Miami\", team_color: \"#008D97\", team_text_color: \"white\"},\n    { \"team\": \"Vikings\", \"abbrv\": \"MIN\", \"sdi\": \"Minnesota\", team_color: \"#240A67\", team_text_color: \"black\" },\n    { \"team\": \"Patriots\", \"abbrv\": \"NWE\", \"sdi\": \"New England\", team_color: \"#00295B\", team_text_color: \"black\" },\n    { \"team\": \"Saints\", \"abbrv\": \"NO\", \"sdi\": \"New Orleans\", team_color: \"#C6A876\", team_text_color: \"black\" },\n    { \"team\": \"Jets\", \"abbrv\": \"NYJ\", \"sdi\": \"N.Y. Jets\", team_color: \"#2A433A\", team_text_color: \"black\" },\n    { \"team\": \"Giants\", \"abbrv\": \"NYG\", \"sdi\": \"N.Y. Giants\",team_color: \"#00839C\", team_text_color: \"black\" },\n    { \"team\": \"Raiders\", \"abbrv\": \"OAK\", \"sdi\": \"Oakland\", team_color: \"#000000\", team_text_color: \"black\" },\n    { \"team\": \"Eagles\", \"abbrv\": \"PHI\", \"sdi\": \"Philadelphia\", team_color: \"#C0C0C0\", team_text_color: \"white\" },\n    { \"team\": \"Steelers\", \"abbrv\": \"PIT\", \"sdi\": \"Pittsburgh\", team_color: \"#000000\", team_text_color: \"black\" },\n    { \"team\": \"Chargers\", \"abbrv\": \"SD\", \"sdi\": \"San Diego\", team_color: \"#05173C\", team_text_color: \"black\" },\n    { \"team\": \"49ers\", \"abbrv\": \"SF\", \"sdi\": \"San Francisco\", team_color: \"#940029\", team_text_color: \"black\" },\n    { \"team\": \"Seahawks\", \"abbrv\": \"SEA\", \"sdi\": \"Seattle\", team_color: \"#030F1F\", team_text_color: \"black\" },\n    { \"team\": \"Rams\", \"abbrv\": \"LA\", \"sdi\": \"Los Angeles\", team_color: \"#00295B\", team_text_color: \"black\" },\n    { \"team\": \"Buccaneers\", \"abbrv\": \"TB\", \"sdi\": \"Tampa Bay\", team_color: \"#D60A0B\", team_text_color: \"black\" },\n    { \"team\": \"Titans\", \"abbrv\": \"TEN\", \"sdi\": \"Tennessee\", team_color: \"#002C4B\", team_text_color: \"black\" }, \n    { \"team\": \"Redskins\", \"abbrv\": \"WAS\", \"sdi\": \"Washington\", team_color: \"#8C001A\", team_text_color: \"black\" }\n  ]\n  for(var i = 0; i < teams.length; i++) {\n    if(team == teams[i].team || team == teams[i].sdi || team == teams[i].abbrv) {\n      return teams[i][field];\n    }\n  }\n\n  return undefined;\n\n}\n\nmodule.exports = lookupTeamInfo;","var d3 = require('d3');\nvar lookupTeamInfo = require('./lookup-team-info');\nvar scene2 = require('./scene2');\n\nfunction scene1(){\n\tconsole.log('INtro//scene1')\n\n       let scene1transition = 2000;\n       d3.select('#video').classed('scene1', true);\n\n       // Slide in home, away logos\n       d3.selectAll('.logo')\n       \t\t.transition()\n       \t\t.duration(scene1transition)\t\n       \t\t\t.style('opacity', 1)\n       \t\t\t.style('transform', `translate(0,0)`)\n\t\t\t\t.style('transform',`translate(0,0) scale(1)`);\n\t\t\n\n\t\t// SLide away logos to where it will line up with linescore\n\t\tvar awayLogoBox = d3.select('.linescore__away .linescore__logo svg').node().getBBox();\n\t\t\td3.select('.logo--away')\n\t\t\t\t.transition()\n\t\t\t\t.duration(scene1transition)\n\t\t\t\t.delay(scene1transition + 1000)\n\t\t\t\t.style('width', `${awayLogoBox.width}px`)\n\t\t\t\t.style('height', `${awayLogoBox.height}px`)\n\t\t\t\t.style('transform', 'translate(-184px, 335px)')\n\t\t\t\t.on('end', ()=>{\n\t\t\t\t\td3.select('.linescore__away .linescore__logo svg')\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style('opacity', 1)\n\t\t\t\t\t\t.on('end', () => {\n\t\t\t\t\t\t\td3.select('.logo--away')\n\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t.duration(150)\n\t\t\t\t\t\t\t\t\t.style('opacity', 0);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t// SLide home logos to where it will line up with linescore\n\t\tvar homeLogoBox = d3.select('.linescore__away .linescore__logo svg').node().getBBox();\n\t\t\t\t\td3.select('.logo--home')\n\t\t\t\t.transition()\n\t\t\t\t.duration(scene1transition)\n\t\t\t\t.delay(scene1transition + 1000)\n\t\t\t\t.style('width', `${homeLogoBox.width}px`)\n\t\t\t\t.style('height', `${homeLogoBox.height}px`)\n\t\t\t\t.style('transform', 'translate(-1086px, 549px)')\n\t\t\t\t.on('end', ()=>{\n\t\t\t\t\t// Once logo is in place, slyly switch it with the one in the linescore\n\t\t\t\t\td3.select('.linescore__home .linescore__logo svg')\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t.duration(50)\n\t\t\t\t\t\t.style('opacity', 1)\n\t\t\t\t\t\t.on('end', () => {\n\t\t\t\t\t\t\td3.select('.logo--home')\n\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t.duration(150)\n\t\t\t\t\t\t\t\t\t.style('opacity', 0);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\n       d3.selectAll('.title')\n       \t.transition()\n       \t\t.duration(scene1transition)\n\t\t       \t.style('opacity', 1)\n\t\t       \t.style('transform', 'translate(0,0)');\n\n\t\t// SLide out, remove the title\n\t\td3.selectAll('.title')\t\t \n\t\t\t.transition()\n\t\t\t\t.duration(scene1transition)\n\t\t\t\t.delay(scene1transition + 1000)\n\t\t\t\t\t.style('opacity', 0)\n\t\t\t       \t.style('transform', 'translate(0,-1500px)')\n   \t\t\t       \t.on('start', () => {\n\t       \t\t\t\td3.select('.linescore')\n\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t.duration(scene1transition)\n\t\t\t\t\t\t\t.style('transform','translate(0,0')\n\t\t\t\t\t\t\t.style('opacity', 1);\n\t\t       \t\t})\n\t\t       \t\t.on('end', ()=>{\n\t\t       \t\t\tconsole.log('end of scene1');\n\t\t       \t\t\tscene2();\n\t\t       \t\t});\n\n\n\t\t\t\n\t\n\n}\n\nmodule.exports = scene1;","var d3 = require('d3');\nvar lookupTeamInfo = require('./lookup-team-info');\nvar _ = require('underscore');\n\n// Text transition method from here: https://bl.ocks.org/mbostock/7004f92cac972edef365\n\nfunction lineScoreNumberTransition(idx, score, line, transitionTime){\n\n\tvar format = d3.format(\",d\");\n\n\tlet targetScore = score[`score${idx+1}`];\n\tline.select(`.linescore__${(idx+1)}`)\n  \t\t.transition()\n\t    .duration(transitionTime)\n\t    .style('color', \"black\")\n\t    .on(\"start\", function() {\n\t    \tconsole.log('starting number tween');\n\t\t\td3.active(this)\n\t          .tween(\"text\", function() {\n\t            var that = d3.select(this),\n\t                interp = d3.interpolateNumber(1,targetScore);\n\t            return function(t) { \n\t            \tthat.text(format(interp(t))); \n\t            };\n\t          })\n\t    });\n\n}\n\n\n\nfunction scene2(){\n\n\n\tconsole.log('linescore//scene2')\n\td3.select('#video').classed('scene1', false).classed('scene2', true);\n\tlet scene2transition = 2000;\n\n\tlet teams = ['away', 'home'];\n\n\tteams.forEach((v,i) => {\n\t\tlet line = d3.select(`.linescore__${v}`);\n\t\tlet score = window.scores[v];\n\t\tfor(var i=0; i < 6; i++){\n\t\t\tvar timer = window.setTimeout(lineScoreNumberTransition, 250 * i, i, score, line, scene2transition);\n\t\t}\n\t})\n\t\t\t\t\n\n\t// d3.select('.linescore__away .linescore__6')\n //  \t\t.transition()\n\t//     .duration(scene2transition)\n\t//     .on(\"start\", function() {\n\t//       d3.active(this)\n\t//           .tween(\"text\", function() {\n\t//             var that = d3.select(this),\n\t//                 i = d3.interpolateNumber(0,window.scores.away.score6);\n\t//             return function(t) { that.text(format(i(t))); };\n\t//           })\n\t//     });\n\n\n\n\n}\n\nmodule.exports = scene2;"]}